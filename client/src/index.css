@tailwind base;
@tailwind components;
@tailwind utilities;

*, *::before, *::after {
    box-sizing: border-box;
}

/* Dark-only theme variables (needed for code mirror) */
:root {
    --bg: #05060a;
    --surface: #0b1220;
    --text: #e6eef8;
    --muted-weak: rgba(230, 238, 248, 0.55);
    --border: rgba(255, 255, 255, 0.06);
    --border-weak: rgba(255, 255, 255, 0.03);
    --cm-bg: #071125;
    --cm-gutter-bg: #071525;
    --cm-foreground: #e6eef8;
    --cm-cursor: #ffcc00;
    --cm-selection: rgba(124,58,237,0.18);
    --cm-keyword: #c792ea;
    --cm-string: #7dd3fc;
    --cm-comment: #6b7280;
}

body {
    background: linear-gradient(180deg, var(--surface), var(--bg));
    color: var(--text);
    transition: background-color 400ms ease, color 400ms ease;
    animation: pageFadeIn 600ms ease both;
    will-change: opacity;
}

@keyframes pageFadeIn {
    from { opacity: 0.0; }
    to   { opacity: 1.0; }
}

/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
    body {
        animation: none;
        transition: none;
    }
}

/* CodeMirror Material theme overrides to better match our dark palette */
div.CodeMirror.cm-s-material {
    background: var(--cm-bg) !important;
    color: var(--cm-foreground) !important;
    border: 1px solid var(--border);
    border-radius: 0.75rem;
    box-shadow: 0 8px 20px rgba(2, 6, 23, 0.6);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
    font-size: 12px;
}

/* Pretty much the font size of the textarea where you type code. */
@screen lg {
    div.CodeMirror.cm-s-material { font-size: 13px; }
}
@screen xl {
    div.CodeMirror.cm-s-material { font-size: 14px; }
}

div.CodeMirror.cm-s-material .CodeMirror-gutters {
    background: var(--cm-gutter-bg) !important;
    border-right: 1px solid var(--border-weak);
    color: var(--muted-weak);
}

div.CodeMirror.cm-s-material .CodeMirror-cursor {
    border-left: 2px solid var(--cm-cursor) !important;
}
div.CodeMirror.cm-s-material .CodeMirror-selected {
    background: var(--cm-selection) !important;
}

.cm-s-material .cm-keyword { color: var(--cm-keyword) !important; }
.cm-s-material .cm-string  { color: var(--cm-string) !important; }
.cm-s-material .cm-comment { color: var(--cm-comment) !important; }

:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.12);
}
